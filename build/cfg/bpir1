#
# Banana Pi R1 configuration
# 
X_BUILD_BASE_CFG="armv7"

BUILDNAME=bpir1
KERNCONF=GENERIC
KERN_NO_TARGET_CPUTYPE="yes"
LOCAL_DIRS="tools/tools/ath tools/tools/net80211/wlanstats"

###### MFS components
X_MFS_USB="YES"
X_MFS_SFTP="YES"

###### Kernel & DTB
MFSROOT_INC_KERNEL="YES"

MFSROOT_INC_DTB="YES"
MFSROOT_INC_DTB_LIST="${MFSROOT_INC_MODULE_LIST} sun7i-a20-lamobo-r1"

###### Modules need to be included
MFSROOT_INC_MODULES="YES"
MFSROOT_INC_MODULE_LIST=""

# VLAN support
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} if_vlan if_gif if_gre if_tap if_tun alq"
# ALQ support - needed for the rest of the modules (wlan, ath)
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} alq"
# Bridge support
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} if_bridge bridgestp"
# USB wifi
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} if_otus otusfw_init otusfw_main"
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} rtwn if_rtwn_usb rtwn-rtl8188eufw rtwn-rtl8192cfwT rtwn-rtl8192cfwU"
# IPFW
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} libalias ipfw ipfw_nat ipfw_nptv6"
# WLAN core
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} wlan wlan_acl wlan_wep wlan_tkip wlan_ccmp wlan_rssadapt wlan_amrr wlan_xauth"
# USB support
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} usb usb_quirk usb_template umass ehci"
# USB ethernet
MFSROOT_INC_MODULE_LIST="${MFSROOT_INC_MODULE_LIST} if_ure"

###### Building the firmware image
X_BUILD_BUILD_IMG_DEFAULTS="mfsroot"

#TRX_COMPRESSION_GZIP=YES

#X_MAKEFS_ENDIAN=le
#X_MAKEFS_FLAGS_EXT="label=FBSD"

#X_FSIMAGE_CMD="mkulzma"
#X_FSIMAGE_ARGS="-s 65536 -v"
#X_FSIMAGE_SUFFIX=".ulzma"

# MFS options
#X_MFS_USB=yes

