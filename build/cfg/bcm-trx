# Base configuration
# 47xx are little endian - https://dev.openwrt.org/wiki/platforms
# brcm47xx	Broadcom BCM47xx/53xx	MIPS	little	nbd, mbm, pavlov	brcm47xx
X_BUILD_BASE_CFG="mipsel"

KERNCONF=BCM
TRX_COMPRESSION_GZIP=YES

X_MAKEFS_ENDIAN=le
X_MAKEFS_FLAGS_EXT="label=FBSD"

X_CFG_DEFAULT_ETHER="bgmac0"

X_FSIMAGE_CMD="mkuzip"
X_FSIMAGE_ARGS="-L -d -s 65536 -v"
X_FSIMAGE_SUFFIX=".ulzma"

# Building the firmware image
X_BUILD_BUILD_IMG_DEFAULTS="mfsroot makepkgs addpkgs fsimage trx"

# MFS options (7171072 -> 7611392)
X_MFS_KERBEROS=no
X_MFS_USB=np

BIN_CFG_PARTITION='`ls /dev/flash/*.cfg /dev/cfi*.cfg`'
BIN_CFG_SIZE="65536"

#Packages
#X_PACKAGELIST="dropbear dnsmasq lua lzo2 openvpn"
X_PACKAGELIST="lzo2"
